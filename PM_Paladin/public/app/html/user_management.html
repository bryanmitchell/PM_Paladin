<page-title ng-if="layoutOptions.pageTitles" title="User Management"></page-title>
<div class="row">
	<div class="col-md-12">
	
		<div class="panel panel-default">

			<div class="panel-body">
			
				<div class="row">
					<div class="btn-group">
						<button type="button" class="btn btn-blue dropdown-toggle" ng-click="openModal('modal-3', null, 'static');">
							Create User
						</button>
					</div>
				</div>

				<br>
				<br>
				{{users}}
				<div class="col-md-12">
				<table class="table table-bordered table-striped table-condensed table-hover">
					<thead>
						<tr>
							<th>Employee Name</th>
							<th>Position</th>
							<th> </th>

						</tr>
					</thead>
					
					<tbody>
						<tr ng-repeat="user in users">
							<td>{{user.firstName}} {{user.lastName}}</td>
							<td>{{user.employeeType}}</td>
							<td>
								<button type="button" class="btn btn-success" ng-model="user.empID" ng-click="openModal('modal-3-update', null, 'static'); checkSelectedUser($index);">Update</button>
								<button type="button" class="btn btn-red" on-click="">Delete</button>
							</td>
						</tr>
					</tbody>
				</table>
				</div>			
			</div>
			
		</div>
		
	</div>
</div>

<!-- Sign Up -->
<script type="text/ng-template" id="modal-3">
	<div class="modal-header">
		<button type="button" class="close" ng-click="currentModal.close();" aria-hidden="true">&times;</button>
		<h4 class="modal-title">Sign Up</h4>
	</div>
	
	<div class="modal-body" ng-controller="UserMgmtCtrl">

		<div class="row">
			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label">Employee ID</label>
					<select style="width: 150px;" ng-model="user.sso" ng-options="user.sso for user in users">
						<option value="">--- Select from list ---</option>
					</select>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-1" class="control-label">Name</label>
					
					<input type="text" class="form-control" id="field-1" placeholder="First Name" ng-model="userInfo.firstName">
				</div>	
				
			</div>
			
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-2" class="control-label">Last Name</label>
					
					<input type="text" class="form-control" id="field-2" placeholder="Last Name" ng-model="userInfo.lastName">
				</div>	
			
			</div>
		</div>
	
		<div class="row">
			<div class="col-md-12">
				
				<div class="form-group">
					<label for="field-3" class="control-label">Email Address</label>
					
					<input type="text" class="form-control" id="field-3" placeholder="Email" ng-model="userInfo.email">
				</div>	
				
			</div>
		</div>
	
		<div class="row">
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-4" class="control-label">Password</label>
					
					<input type="password" class="form-control" id="field-4" placeholder="8-25 Characters" ng-model="userInfo.password">
				</div>	
				
			</div>
			
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-5" class="control-label">Confirm Password</label>
					
					<input type="password" class="form-control" id="field-5" placeholder="Re-type Password" ng-model="confirmPassword">
				</div>	
			
			</div>
			
		</div>
	
		<div class="row">
				
			<div class="col-md-12">

				<div class="form-group no-margin">
					
					<label for="field-7" class="control-label">Type of User</label>
					
					</br>
					
					<div class="col-sm-4" ng-repeat="item in employeeTypes">
						<input type="checkbox" value="{{item}}" ng-checked="selection.indexOf(item) > -1" ng-click="toggleSelection(item)"> {{item}}
					</div>
					<!-- <div class="col-sm-4">
						<input type="checkbox" value="Engineer" ng-checked="selection.indexOf(item) > -1" ng-click="toggleSelection(item)"> Engineer
					</div>
					<div class="col-sm-4">
						<input type="checkbox" value="Technician" ng-checked="selection.indexOf(item) > -1" ng-click="toggleSelection(item)"> Technician
					</div> -->
				</div>	
			</div>
		</div>

		<br>
		
		<div class="text-right btn-toolbar">
				<button class="btn-white btn" ng-click="currentModal.close();">Close</button>

				<button class="btn-info btn" ng-click="currentModal.dismiss(); sendEmail();">Save</button> 
		</div>	

	</div> <!-- end modal body-->
	
</script>

<!-- update pop up -->
<script type="text/ng-template" id="modal-3-update">
	<div class="modal-header">
		<button type="button" class="close" ng-click="currentModal.close();" aria-hidden="true">&times;</button>
		<h4 class="modal-title">Update User</h4>
	</div>
	
	<div class="modal-body" ng-controller="UserMgmtCtrl">
	
		<div class="row">
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-1" class="control-label">{{selectedUser}}</label>
					
					<input type="text" class="form-control" id="field-1" placeholder="First Name" ng-model="selectedUser.firstName" />
				</div>
				
			</div>
			
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-2" class="control-label">Last Name</label>
					
					<input type="text" class="form-control" id="field-2" placeholder="Last Name" ng-model="selectedUser.lastName">
				</div>	
			
			</div>
		</div>
	
		<div class="row">
			<div class="col-md-12">
				
				<div class="form-group">
					<label for="field-3" class="control-label">Email Address</label>
					
					<input type="email" class="form-control" id="field-3" placeholder="Email" ng-model="email">
				</div>	
				
			</div>
		</div>
	
		<div class="row">
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-4" class="control-label">Password</label>
					
					<input type="password" class="form-control" id="field-4" placeholder="8-25 Characters" ng-model="password">
				</div>	
				
			</div>
			
			<div class="col-md-6">
				
				<div class="form-group">
					<label for="field-5" class="control-label">Confirm Password</label>
					
					<input type="password" class="form-control" id="field-5" placeholder="Re-type Password" ng-model="confirmPassword">
				</div>	
			
			</div>
			
		</div>
	
		<div class="row">
				
			<div class="col-md-12">

				<div class="form-group no-margin">
					
					<label for="field-7" class="control-label">Type of User</label>
					
					</br>

					<label>{{selectedUserIndex}}</label>

					<br>
					
					<div class="col-sm-4">
						<input type="checkbox" id="admin" ng-model="userCtrl.userPosition" ng-checked=""> Administrator
					</div>
					<div class="col-sm-4">
						<input type="checkbox" id="engineer" ng-model="isType" ng-checked="checkType()"> Engineer
					</div>
					<div class="col-sm-4">
						<input type="checkbox" id="technician" ng-model="isType" ng-checked="checkType()"> Technician
					</div>
				</div>	
			</div>
		</div>
	</div>
	
	<div class="modal-footer">
		<button type="button" class="btn btn-white" ng-click="currentModal.close();">Close</button>
		<button type="button" class="btn btn-info" ng-click="currentModal.dismiss();">Save</button>
	</div>
</script>